{% extends "layout.html" %}
{% block body %}

{% if not selected_genre %}

<div class="w3-container2">
  <div class="intro-text">
    <p>Want to browse through a wide selection of books? Or check the availability of a certain book at your local library?</p>
  </div>
  </div>
  <div class="intro-text">
    <p>Then BookHub is the website for you. We have a large catalogue of books and the ability to provide accurate information on a local book's availability.</p>
  </div>

  {% endif %}


{% if not selected_genre %}
<div class="editions-container">
  <h2>New Editions</h2>
  <div class="card-grid">
    {% for book in books[:3] %}
    <div class="card">
      <img src="{{ url_for('static', filename=book[7]) }}" alt="Cover of {{ book[1] }}">
      <p><strong>{{ book[1] }}</strong></p>
      <p>{{ book[2] }}</p>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %}

<body>
   <nav class="w3-bar1">
  <a href="/" class="w3-bar-item w3-button">Home</a>
  <form method="GET" action="/" style="display:inline-block; margin-left: 10px;">
    <select name="genre" class="w3-select w3-bar-item" style="width: 200px; display: inline-block;">
      <option value="">Select Genre</option>
      {% for genre in genres %}
        <option value="{{ genre['Genre'] }}" {% if genre['Genre'] == selected_genre %}selected{% endif %}>
          {{ genre['Genre'] }}
        </option>
      {% endfor %}
    </select>
    <button type="submit" class="w3-button w3-bar-item w3-teal" style="display: inline-block;">Filter</button>
  </form>
<form method="GET" action="{{ url_for('search') }}" class="w3-bar-item">
            <input class="w3-input w3-bar-item" type="text"  name="q" placeholder="Search for a book..." required>
        </form>
    <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Toggle Light/Dark Mode</title>
    <style>
        
        .light-mode {
            background-color: #86c8bd;
            color: black;
        }

        
        .dark-mode {
            background-color: #851b47;
            color: #000000;  
            
        }
        
        
        

        .toggle-btn {
            margin-top: 20px;
            padding: 1px 2px;
        }
    
    </style>
</head>
<body class="light-mode">
    <button class="toggle-btn" onclick="toggleMode()">Dark Mode</button>

    <script>
        let isDark = false;

        function toggleMode() {
            const body = document.body;
            const button = document.querySelector('.toggle-btn');
            isDark = !isDark;

            if (isDark) {
                body.classList.remove('light-mode');
                body.classList.add('dark-mode');
                button.textContent = "Light Mode";
            } else {
                body.classList.remove('dark-mode');
                body.classList.add('light-mode');
                button.textContent = "Dark Mode";
            }
        }
    </script>
</body>
</html>

</nav>

</body>
</html>


<div class="all-books-section">
  <h2>All Books{% if selected_genre %} â€“ {{ selected_genre }}{% endif %}</h2>
  <div class="all-books-grid">
    {% for book in books %}
    <div class="book-card">
      <div class "book-image"> 
      <img src="{{ url_for('static', filename=book[7]) }}" alt="Cover of {{ book[4] }}">
      </div>
      <div class="book-info">
        <h3>{{ book[1] }}</h3>
        <p><strong>Author:</strong> {{ book[2] }}</p>
        <p><strong>Genre:</strong> {{ book[3] }}</p>
        <p><strong>Subjects:</strong> {{ book[4] }}</p>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock %}